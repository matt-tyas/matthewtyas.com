/*
matthewtyas.com scripts file
Author: Matt Tyas
*/// Modernizr.load loading the right scripts only if you need them
Modernizr.load([{test:Modernizr.borderradius,nope:["libs/selectivizr-min.js"]}]);var imgSizer={Config:{imgCache:[],spacer:"/path/to/your/spacer.gif"},collate:function(e){var t=document.all&&!window.opera&&!window.XDomainRequest?1:0;if(t&&document.getElementsByTagName){var n=imgSizer,r=n.Config.imgCache,i=e&&e.length?e:document.getElementsByTagName("img");for(var s=0;s<i.length;s++){i[s].origWidth=i[s].offsetWidth;i[s].origHeight=i[s].offsetHeight;r.push(i[s]);n.ieAlpha(i[s]);i[s].style.width="100%"}r.length&&n.resize(function(){for(var e=0;e<r.length;e++){var t=r[e].offsetWidth/r[e].origWidth;r[e].style.height=r[e].origHeight*t+"px"}})}},ieAlpha:function(e){var t=imgSizer;e.oldSrc&&(e.src=e.oldSrc);var n=e.src;e.style.width=e.offsetWidth+"px";e.style.height=e.offsetHeight+"px";e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"', sizingMethod='scale')";e.oldSrc=n;e.src=t.Config.spacer},resize:function(e){var t=window.onresize;typeof window.onresize!="function"?window.onresize=e:window.onresize=function(){t&&t();e()}}};$(document).ready(function(){$("#tools").click(function(){$(this).toggleClass("on");$(this).next().slideToggle("normal",function(){});return!1});$(".flexslider").flexslider({animation:"fade"});$(function(){var e=$("#portfolio-list");e.imagesLoaded(function(){e.isotope({resizable:!1,masonry:{columnWidth:e.width()/4}})});$(window).smartresize(function(){e.isotope({masonry:{columnWidth:e.width()/4}})});$(function(){$("#portfolio-filter > li > a").click(function(e){$("#portfolio-filter > li > a").addClass("current").not(this).removeClass("current");e.preventDefault()})});$("#portfolio-filter li a").click(function(){var t=$(this).attr("data-filter");e.isotope({filter:t});$("#work").find("h4 span").text($(this).attr("href").replace("#",""));$("#work").find("h4 span:contains('Work')").prepend("All ")})});$("#going-up").smoothScroll({scrollTarget:"#container"})});